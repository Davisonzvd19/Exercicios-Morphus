<!DOCTYPE HTML>
<html lang="pt-BR">
<head>
	<meta charset="UTF-8">
	<title>Conversor</title>
</head>
<body>
<div class="container">
	<div class="row">
		<h4>Conversor de Número decimal em romano</h4>   
	</div>
	<div class="row">
		<div class="input-field col s12">
			<label for="decimal" class="active">Número Decimal:</label>
			<input type="tel" placeholder="Informe um número decimal" id="decimal" autofocus maxlength="4">
		</div>
		
		<div class="input-field col s12">
			<label for="roman" class="active">Número Romano:</label>
			<input type="text" class="roman" id="roman" readonly="readonly">
		</div>
	</div>
<script type="text/javascript">	
	const numberMap = {
		
		0 : [
			 ''		//0
			,'I' 	//1
			,'II'	//2
			,'III'	//3
			,'IV'	//4
			,'V'	//5
			,'VI'	//6
			,'VII'	//7
			,'VIII'	//8
			,'IX'	//9				
		]
		,1 : [
			 ''		//10
			,'X'	//10
			,'XX'   //20
			,'XXX'  //30
			,'XL'   //40
			,'L'    //50
			,'LX'   //60
			,'LXX'  //70
			,'LXXX' //80
			,'XC'   //90
		]
		,2 : [
			''
			,'C'	//100
			,'CC'   //200
			,'CCC'  //300				
			,'CD'   //400
			,'D'    //500
			,'DC'   //600
			,'DCC'  //700
			,'DCCC' //800
			,'CM' 	//900
		]
	};
	function romano(input){		
		input = input.replace(/[^0-9]/, "");
		if(input == '') return'';
		var number = parseInt(input);
		if(number > 999){
			return "Máximo=999";
		}
		var orderNumber = Number(input).toString();
		var orderLength = orderNumber.length;
		var udc = orderLength - 1;
		var newOrder = '';
		for(var i = udc; i >= 0 ;i--){
			newOrder = newOrder + orderNumber.charAt(i);
		}
		var finalCast = '';
		for(var i = udc; i >= 0 ;i--){
			var auxVar = parseInt(newOrder.charAt(i));
			finalCast = finalCast + numberMap[i][auxVar];
		}
		return finalCast;
	}
	document.getElementById("decimal").addEventListener('keyup', function() {		
		var romanNumber = romano(this.value);
		document.getElementById("roman").value = romanNumber;
		var numberCheck = this.value.replace(/[^0-9]/, "");
		if(numberCheck == '') return false;
	});
</script>
</body>
</html>